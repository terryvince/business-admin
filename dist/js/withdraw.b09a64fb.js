(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["withdraw"],{"879d":function(t,a,e){},b347:function(t,a,e){"use strict";var i=e("879d"),l=e.n(i);l.a},f199:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"withdraw"},[e("el-form",{staticClass:"flex-main-start",attrs:{inline:!0,"label-position":"left",model:t.form,size:"mini"}},[e("el-form-item",[e("span",[t._v("可申请提现金额："+t._s(t.withdraw_data.sum_amount))]),e("el-button",{staticClass:"left-20",attrs:{type:"primary"},on:{click:t.withdrawAmount}},[t._v("申请提现")])],1),e("el-form-item",{staticClass:"left-20"},[e("el-select",{attrs:{placeholder:"提现状态"},model:{value:t.form.status,callback:function(a){t.$set(t.form,"status",a)},expression:"form.status"}},[e("el-option",{attrs:{label:"--请选择--",value:""}}),e("el-option",{attrs:{label:"审核未通过",value:"-1"}}),e("el-option",{attrs:{label:"待审核",value:"1"}}),e("el-option",{attrs:{label:"已打款",value:"2"}}),e("el-option",{attrs:{label:"等待财务打款",value:"3"}})],1)],1),e("el-form-item",[e("el-button",{staticClass:"left-20",attrs:{type:"primary"},on:{click:t.getWithdrawList}},[t._v("搜索")]),e("el-button",{staticClass:"left-20",attrs:{type:"primary"},on:{click:t.getWithdrawList}},[t._v("导出到Excel")])],1)],1),e("el-divider",{attrs:{direction:"horizontal"}}),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.location,expression:"location"}],staticStyle:{width:"100%"},attrs:{"element-loadinf-text":"正在拼命加载",data:t.list,border:""}},[e("el-table-column",{attrs:{label:"序号"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.$index+1))])]}}])}),e("el-table-column",{attrs:{prop:"w_amount",label:"申请提现金额",width:"180"}}),e("el-table-column",{attrs:{prop:"w_rate",label:"费率"}}),e("el-table-column",{attrs:{prop:"rate_price",label:"手续费"}}),e("el-table-column",{attrs:{prop:"w_real_amount",label:"实际结算金额"}}),e("el-table-column",{attrs:{prop:"w_status",label:"提现状态"}}),e("el-table-column",{attrs:{prop:"w_create_time",label:"申请时间"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{type:"primary"},on:{click:function(e){return t.clickWithdrawProduct(a.row.w_id)}}},[t._v("提现产品")]),e("el-link",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(e){return t.withdrawDetail(a.row.w_id)}}},[t._v("查看详情")])]}}])})],1),e("div",{staticClass:"block top-20"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":10,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.page=a},"update:current-page":function(a){t.page=a}}})],1),e("el-dialog",{attrs:{title:"提现产品",visible:t.dialogTableVisible},on:{"update:visible":function(a){t.dialogTableVisible=a}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.location_product,expression:"location_product"}],attrs:{data:t.gridData}},[e("el-table-column",{attrs:{property:"g_name",label:"商品名称",width:"150"}}),e("el-table-column",{attrs:{property:"tv_code",label:"核销码",width:"80"}}),e("el-table-column",{attrs:{property:"tv_createtime",label:"核销/发货时间"}}),e("el-table-column",{attrs:{property:"tv_price",label:"结算价格"}}),e("el-table-column",{attrs:{property:"ver_name",label:"核销人/发货人"}})],1)],1),e("el-dialog",{attrs:{title:"提现详情",visible:t.dialogWithdrawDetail,width:"500px"},on:{"update:visible":function(a){t.dialogWithdrawDetail=a}}},[e("el-form",{staticClass:"width_detail",attrs:{"label-width":"120px"}},[e("el-form-item",{attrs:{label:"id："}},[e("span",[t._v(t._s(t.detailData.w_id))])]),e("el-form-item",{attrs:{label:"提现金额："}},[e("span",[t._v(t._s(t.detailData.w_amount))])]),e("el-form-item",{attrs:{label:"实际结算金额："}},[e("span",[t._v(t._s(t.detailData.rest_amount))])]),e("el-form-item",{attrs:{label:"申请提现时间："}},[e("span",[t._v(t._s(t.detailData.w_create_time))])]),e("el-form-item",{attrs:{label:"审核时间："}},[e("span",[t._v(t._s(t.detailData.w_update_time))])]),e("el-form-item",{attrs:{label:"提现银行账号："}},[e("span",[t._v(t._s(t.detailData.w_account_number))])]),e("el-form-item",{attrs:{label:"持卡人姓名："}},[e("span",[t._v(t._s(t.detailData.w_account_member))])]),e("el-timeline",t._l(t.detailData.log_list,(function(a,i){return e("el-timeline-item",{key:i,attrs:{icon:"#0bbd87",type:"primary",color:"#0bbd87",size:"large",timestamp:a.create_time}},[e("div",[e("p",[t._v(t._s(0==i?"运营审核意见":"财务审核意见")+" : "+t._s(0==i?t.detailData.w_operative_status_txt:t.detailData.w_finance_status_txt))]),e("p",[t._v("备注： "+t._s(a.remark_json))])])])})),1)],1)],1)],1)},l=[],r=e("c7e8"),s={name:"withdraw",data:function(){return{form:{status:""},page:1,size:10,total:0,list:[],location:!1,location_product:!1,withdraw_data:[],gridData:[],dialogTableVisible:!1,dialogWithdrawDetail:!1,detailData:{}}},created:function(){this.getWithdrawList()},components:{},methods:{getWithdrawList:function(){var t=this;this.location=!0,this.form.page=this.page,this.form.page_size=this.size,Object(r["m"])(this.form).then((function(a){t.location=!1;var e=a.data;if(200!==e.ec)return t.$message.error(e.em),!1;t.list=e.data.list,t.page=e.data.page,t.withdraw_data=e.data.withdraw_info,t.total=parseInt(e.data.count)}))},withdrawAmount:function(){var t=this;this.$confirm("确定要申请提现"+this.withdraw_data.sum_amount+"吗？本次手续费"+this.withdraw_data.rate+"%（"+this.withdraw_data.rate_price+"），实际到账"+this.withdraw_data.real_amount,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["k"])({}).then((function(a){var e=a.data;if(200!==e.ec)return t.$message.error(e.em),!1;t.$message({type:"success",message:"提现成功!"}),t.getWithdrawList()}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},clickWithdrawProduct:function(t){var a=this;this.dialogTableVisible=!0,this.location_product=!0,Object(r["n"])({w_id:t}).then((function(t){var e=t.data;if(a.location_product=!1,200!==e.ec)return a.$message.error(e.em),!1;a.gridData=e.data.list}))},withdrawDetail:function(t){var a=this;Object(r["l"])(t).then((function(t){var e=t.data;if(200!==e.ec)return a.$message.error(e.em),!1;a.dialogWithdrawDetail=!0,a.detailData=e.data}))},handleSizeChange:function(t){this.page=1,this.size=t,this.getWithdrawList()},handleCurrentChange:function(t){this.page=t,this.getWithdrawList()}}},n=s,o=(e("b347"),e("2877")),c=Object(o["a"])(n,i,l,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=withdraw.b09a64fb.js.map